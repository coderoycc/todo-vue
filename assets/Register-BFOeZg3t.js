import{a0 as p,_ as f,l as b,v as o,aE as g,j as r,I as v,o as y,aF as w,Y as x,aH as V,s as _}from"./index-wbuNUhuB.js";const k={class:"flex items-center justify-center min-h-screen bg-gray-100"},R={class:"w-full max-w-sm p-6 bg-white shadow-md rounded-lg"},T={class:"mb-4"},h={class:"mb-4"},E={class:"mb-6"},N={__name:"Register",setup(S){const s=p({email:"",password:"",name:""}),i=w(),n=x(),l=f(),d=async()=>{try{if(console.log("dento"),u()){const{data:t}=await V(s.value);t.success?(l.add({summary:"Registro exitoso",detail:"Login automÃ¡tico",severity:"success",life:2300}),n.commit("setTokenSession",t.token),n.commit("setUserSession",t.user),i.push("/")):l.add({severity:"warn",summary:"Ocurrio un error",detail:"IntÃ©ntelo mas tarde",life:2500})}}catch(t){const e=t.response.data.message??"Error desconocido, intÃ©ntelo mÃ¡s tarde";n.commit("clearTokenSession"),console.log(t),l.add({severity:"error",summary:"Error registro",detail:e,life:2400})}},u=()=>s.value.email.length>0&&s.value.name.length>0&&s.value.password.length>4?!0:(l.add({severity:"error",summary:"Error fomulario",detail:"Todos los campos som obligatorios",life:2700}),!1);return(t,e)=>{const m=v,c=_;return y(),b("div",k,[o("div",R,[e[6]||(e[6]=o("h2",{class:"text-2xl font-bold text-center text-gray-800 mb-6"}," Mis Tareas ðŸ“‘ | Registro ",-1)),o("form",{onSubmit:g(d,["prevent"])},[o("div",T,[e[3]||(e[3]=o("label",{for:"name",class:"block text-gray-700 mb-2"},"Nombre ",-1)),r(m,{modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.name=a),id:"name",type:"name",class:"w-full p-inputtext-sm p-component",placeholder:"Nombre completo"},null,8,["modelValue"])]),o("div",h,[e[4]||(e[4]=o("label",{for:"email",class:"block text-gray-700 mb-2"},"Correo electrÃ³nico",-1)),r(m,{modelValue:s.value.email,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.email=a),id:"email",type:"email",class:"w-full p-inputtext-sm p-component",placeholder:"mail@mail.com"},null,8,["modelValue"])]),o("div",E,[e[5]||(e[5]=o("label",{for:"password",class:"block text-gray-700 mb-2"},"ContraseÃ±a",-1)),r(m,{modelValue:s.value.password,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.password=a),id:"password",type:"password",class:"w-full p-inputtext-sm p-component",placeholder:"*************"},null,8,["modelValue"])]),r(c,{type:"submit",label:"Registrarse",class:"w-full p-button p-button-primary"})],32)])])}}};export{N as default};
