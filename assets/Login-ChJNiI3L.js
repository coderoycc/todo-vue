import{_ as v,a0 as d,l as y,v as s,aE as b,j as l,P as c,w,I as x,r as _,o as k,Y as V,aF as T,aG as C,s as L}from"./index-ChhZO6Gx.js";const S={class:"flex items-center justify-center min-h-screen bg-gray-100"},h={class:"w-full max-w-sm p-6 bg-white shadow-md rounded-lg"},B={class:"mb-4"},E={class:"mb-6"},I={class:"text-end mt-2"},M={__name:"Login",setup(N){const n=V(),u=T(),t=v(),a=d("test@mail.com"),r=d("1234"),p=async()=>{try{if(a.value.length>0&&r.value.length>0){const{data:o}=await C({email:a.value,password:r.value});o.success?(t.add({summary:"Login correcto",detail:"Redireccionando",severity:"success",life:2e3}),n.commit("setTokenSession",o.token),n.commit("setUserSession",o.user),u.push("/")):t.add({severity:"error",summary:"Login Incorrecto",detail:"Crendenciales incorrectos",life:2500})}else t.add({severity:"error",summary:"Formulario incorrecto",detail:"Todos los campos son requeridos",life:2300})}catch(o){console.log(o);const e=o.response.data.message??"Error desconocido, intÃ©ntelo mÃ¡s tarde";n.commit("clearTokenSession"),t.add({severity:"error",summary:"Error Login",detail:e,life:2400})}};return(o,e)=>{const m=x,f=L,g=_("router-link");return k(),y("div",S,[s("div",h,[e[6]||(e[6]=s("h2",{class:"text-2xl font-bold text-center text-gray-800 mb-6"}," Mis Tareas ğŸ“‘ | Login ",-1)),s("form",{onSubmit:b(p,["prevent"])},[s("div",B,[e[2]||(e[2]=s("label",{for:"email",class:"block text-gray-700 mb-2"},"Correo electrÃ³nico",-1)),l(m,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=i=>a.value=i),id:"email",type:"email",class:"w-full p-inputtext-sm p-component",placeholder:"mail@mail.com"},null,8,["modelValue"])]),s("div",E,[e[3]||(e[3]=s("label",{for:"password",class:"block text-gray-700 mb-2"},"ContraseÃ±a",-1)),l(m,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=i=>r.value=i),id:"password",type:"password",class:"w-full p-inputtext-sm p-component",placeholder:"*************"},null,8,["modelValue"])]),l(f,{type:"submit",label:"Ingresar",class:"w-full p-button p-button-primary"})],32),s("p",I,[e[5]||(e[5]=c(" Â¿No tienes una cuenta? ")),l(g,{class:"font-semibold",to:"/register"},{default:w(()=>e[4]||(e[4]=[c("RegÃ­strate")])),_:1})])])])}}};export{M as default};
